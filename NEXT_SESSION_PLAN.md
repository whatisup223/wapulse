# ๐ ุฎุทุฉ ุงูุนูู ููุฌูุณุฉ ุงููุงุฏูุฉ

## โ ูุง ุชู ุฅูุฌุงุฒู ุงูููู:
1. **ุชุดุบูู ุงููููุน (Deployment):**
   - ุญู ูุดููุฉ ุชุญููู CSS ูุงูู Styles ูู ุงูุฅูุชุงุฌ (Vite/Tailwind Config).
   - ุชุดุบูู ุงูู Webhook ุจูุฌุงุญ (`POST /api/webhooks/evolution`).
   
2. **ุชุญุณููุงุช ุงูุญููุงุช (Campaigns):**
   - ุฅุตูุงุญ ูุดููุฉ ุงูุชูููุช (Timezone) ูู ุงูุญููุงุช ุงููุฌุฏููุฉ (ุฅุฑุณุงู ISO String).
   - ุชุนุฏูู ุงูููุทู ููุนุงูุฌ ุงูุญููุงุช ุงููุฌุฏููุฉ ุงููุชุนุฏุฏุฉ (ุชุญููููุง ูู `in_progress`).

3. **ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู (UX):**
   - ุชูููู ูุนุฏู ุงูุชุญุฏูุซ (Polling) ูู ุงูู Inbox ูุชุฎููู "ุงูุฑุนุดุฉ" ูุงูุฅุฒุนุงุฌ.

---

## ๐ง ุงูููุงู ุงููุงุฏูุฉ (ุงูุบุฏ):

### 1. ๐๏ธ ุญู ูุดููุฉ ุชุฏุงุฎู ุงูุดุงุชุงุช (Inbox Sync Refactor) - **ุงูุฃููููุฉ ุงููุตูู**
**ุงููุดููุฉ:**
- ุงูุงุนุชูุงุฏ ุนูู `fetchChats` ุงููุจุงุดุฑ ูู Evolution API ูุณุจุจ ุชูุฑุงุฑ ุฌูุงุช ุงูุงุชุตุงูุ ุธููุฑ ุฃุฑูุงู ุจุฏูู ุฃุณูุงุกุ ูุชุฏุงุฎู ูู ุงููุญุงุฏุซุงุช.

**ุงูุญู (Webhooks + Local DB):**
1. **ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช (`db.json`):**
   - ุฅูุดุงุก ุฌุฏุงูู ุฌุฏูุฏุฉ: `contacts`ุ `chats`ุ `messages`.
2. **ุชูุนูู ุงูู Webhooks ูู ุงูุณูุฑูุฑ:**
   - ุนูุฏ ุงุณุชูุงู `contacts.upsert` ุฃู `messages.upsert` -> ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ููุฑุงู.
   - ุฏูุฌ ุงูุจูุงูุงุช (ุงูุงุณูุ ุงูุตูุฑุฉุ ุงูุฑูู) ุจุดูู ููุญุฏ.
3. **ุชุญุฏูุซ ูุงุฌูุฉ ุงูู inbox:**
   - ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ ุงููุญูู (`/api/chats`) ุจุฏูุงู ูู Evolution API ูุจุงุดุฑุฉ.
   - ูุฐุง ูุถูู ุซุจุงุช ุงูุฃุณูุงุก ูุงูุชุฑุชูุจ.

### 2. ๐ ุชุดุบูู ุงูุญููุงุช ุจุงูุชูุงุฒู (Round Robin)
**ุงููุดููุฉ:**
- ุงูุญููุงุช ุชุนูู ุจุงูุชุณูุณู (ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู).
- ุฅุฐุง ูุงู ููุงู 10 ุญููุงุช ูู ููุณ ุงูููุชุ ุงูุญููุฉ ุงูุนุงุดุฑุฉ ุณุชุชุฃุฎุฑ ุฌุฏุงู.

**ุงูุญู:**
- ุชุนุฏูู `processQueue` ูู `server.js` ูุชุนูู ุจูุธุงู "Round Robin".
- ุฃุฎุฐ ุฑุณุงูุฉ ูู ุงูุญููุฉ 1ุ ุซู ุฑุณุงูุฉ ูู ุงูุญููุฉ 2ุ ูููุฐุง.
- ุถูุงู ุนุฏู ุชุฌุงูุฒ ุญุฏูุฏ ุงูุฅุฑุณุงู (Rate Limiting).

---

## ๐ ุชุฐููุฑ ุณุฑูุน:
- **Redeploy** ูู EasyPanel ูุทููุจ ูุชูุนูู ุขุฎุฑ ุชุญุฏูุซุงุช ุงูู Timezone.
